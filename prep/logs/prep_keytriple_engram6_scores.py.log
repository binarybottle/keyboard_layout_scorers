> poetry run python3 prep_keytriple_engram6_scores.py
Prepare Engram-6 key-triple scores (overall + individual criteria)
======================================================================
QWERTY keys (32): ',./;ABCDEFGHIJKLMNOPQRSTUVWXYZ[
Total key-triples to compute: 32768
Output files: 1 overall + 6 individual criteria = 7 total

Computing Engram-6 scores for 32768 key-triples...
  Progress: 0/32768 (0.0%)
  Progress: 100/32768 (0.3%)
  Progress: 200/32768 (0.6%)
  Progress: 300/32768 (0.9%)
  Progress: 400/32768 (1.2%)
  Progress: 500/32768 (1.5%)
  Progress: 600/32768 (1.8%)
  Progress: 700/32768 (2.1%)
  Progress: 800/32768 (2.4%)
  Progress: 900/32768 (2.7%)
  Progress: 1000/32768 (3.1%)
  Progress: 1100/32768 (3.4%)
  Progress: 1200/32768 (3.7%)
  Progress: 1300/32768 (4.0%)
  Progress: 1400/32768 (4.3%)
  Progress: 1500/32768 (4.6%)
  Progress: 1600/32768 (4.9%)
  Progress: 1700/32768 (5.2%)
  Progress: 1800/32768 (5.5%)
  Progress: 1900/32768 (5.8%)
  Progress: 2000/32768 (6.1%)
  Progress: 2100/32768 (6.4%)
  Progress: 2200/32768 (6.7%)
  Progress: 2300/32768 (7.0%)
  Progress: 2400/32768 (7.3%)
  Progress: 2500/32768 (7.6%)
  Progress: 2600/32768 (7.9%)
  Progress: 2700/32768 (8.2%)
  Progress: 2800/32768 (8.5%)
  Progress: 2900/32768 (8.9%)
  Progress: 3000/32768 (9.2%)
  Progress: 3100/32768 (9.5%)
  Progress: 3200/32768 (9.8%)
  Progress: 3300/32768 (10.1%)
  Progress: 3400/32768 (10.4%)
  Progress: 3500/32768 (10.7%)
  Progress: 3600/32768 (11.0%)
  Progress: 3700/32768 (11.3%)
  Progress: 3800/32768 (11.6%)
  Progress: 3900/32768 (11.9%)
  Progress: 4000/32768 (12.2%)
  Progress: 4100/32768 (12.5%)
  Progress: 4200/32768 (12.8%)
  Progress: 4300/32768 (13.1%)
  Progress: 4400/32768 (13.4%)
  Progress: 4500/32768 (13.7%)
  Progress: 4600/32768 (14.0%)
  Progress: 4700/32768 (14.3%)
  Progress: 4800/32768 (14.6%)
  Progress: 4900/32768 (15.0%)
  Progress: 5000/32768 (15.3%)
  Progress: 5100/32768 (15.6%)
  Progress: 5200/32768 (15.9%)
  Progress: 5300/32768 (16.2%)
  Progress: 5400/32768 (16.5%)
  Progress: 5500/32768 (16.8%)
  Progress: 5600/32768 (17.1%)
  Progress: 5700/32768 (17.4%)
  Progress: 5800/32768 (17.7%)
  Progress: 5900/32768 (18.0%)
  Progress: 6000/32768 (18.3%)
  Progress: 6100/32768 (18.6%)
  Progress: 6200/32768 (18.9%)
  Progress: 6300/32768 (19.2%)
  Progress: 6400/32768 (19.5%)
  Progress: 6500/32768 (19.8%)
  Progress: 6600/32768 (20.1%)
  Progress: 6700/32768 (20.4%)
  Progress: 6800/32768 (20.8%)
  Progress: 6900/32768 (21.1%)
  Progress: 7000/32768 (21.4%)
  Progress: 7100/32768 (21.7%)
  Progress: 7200/32768 (22.0%)
  Progress: 7300/32768 (22.3%)
  Progress: 7400/32768 (22.6%)
  Progress: 7500/32768 (22.9%)
  Progress: 7600/32768 (23.2%)
  Progress: 7700/32768 (23.5%)
  Progress: 7800/32768 (23.8%)
  Progress: 7900/32768 (24.1%)
  Progress: 8000/32768 (24.4%)
  Progress: 8100/32768 (24.7%)
  Progress: 8200/32768 (25.0%)
  Progress: 8300/32768 (25.3%)
  Progress: 8400/32768 (25.6%)
  Progress: 8500/32768 (25.9%)
  Progress: 8600/32768 (26.2%)
  Progress: 8700/32768 (26.6%)
  Progress: 8800/32768 (26.9%)
  Progress: 8900/32768 (27.2%)
  Progress: 9000/32768 (27.5%)
  Progress: 9100/32768 (27.8%)
  Progress: 9200/32768 (28.1%)
  Progress: 9300/32768 (28.4%)
  Progress: 9400/32768 (28.7%)
  Progress: 9500/32768 (29.0%)
  Progress: 9600/32768 (29.3%)
  Progress: 9700/32768 (29.6%)
  Progress: 9800/32768 (29.9%)
  Progress: 9900/32768 (30.2%)
  Progress: 10000/32768 (30.5%)
  Progress: 10100/32768 (30.8%)
  Progress: 10200/32768 (31.1%)
  Progress: 10300/32768 (31.4%)
  Progress: 10400/32768 (31.7%)
  Progress: 10500/32768 (32.0%)
  Progress: 10600/32768 (32.3%)
  Progress: 10700/32768 (32.7%)
  Progress: 10800/32768 (33.0%)
  Progress: 10900/32768 (33.3%)
  Progress: 11000/32768 (33.6%)
  Progress: 11100/32768 (33.9%)
  Progress: 11200/32768 (34.2%)
  Progress: 11300/32768 (34.5%)
  Progress: 11400/32768 (34.8%)
  Progress: 11500/32768 (35.1%)
  Progress: 11600/32768 (35.4%)
  Progress: 11700/32768 (35.7%)
  Progress: 11800/32768 (36.0%)
  Progress: 11900/32768 (36.3%)
  Progress: 12000/32768 (36.6%)
  Progress: 12100/32768 (36.9%)
  Progress: 12200/32768 (37.2%)
  Progress: 12300/32768 (37.5%)
  Progress: 12400/32768 (37.8%)
  Progress: 12500/32768 (38.1%)
  Progress: 12600/32768 (38.5%)
  Progress: 12700/32768 (38.8%)
  Progress: 12800/32768 (39.1%)
  Progress: 12900/32768 (39.4%)
  Progress: 13000/32768 (39.7%)
  Progress: 13100/32768 (40.0%)
  Progress: 13200/32768 (40.3%)
  Progress: 13300/32768 (40.6%)
  Progress: 13400/32768 (40.9%)
  Progress: 13500/32768 (41.2%)
  Progress: 13600/32768 (41.5%)
  Progress: 13700/32768 (41.8%)
  Progress: 13800/32768 (42.1%)
  Progress: 13900/32768 (42.4%)
  Progress: 14000/32768 (42.7%)
  Progress: 14100/32768 (43.0%)
  Progress: 14200/32768 (43.3%)
  Progress: 14300/32768 (43.6%)
  Progress: 14400/32768 (43.9%)
  Progress: 14500/32768 (44.3%)
  Progress: 14600/32768 (44.6%)
  Progress: 14700/32768 (44.9%)
  Progress: 14800/32768 (45.2%)
  Progress: 14900/32768 (45.5%)
  Progress: 15000/32768 (45.8%)
  Progress: 15100/32768 (46.1%)
  Progress: 15200/32768 (46.4%)
  Progress: 15300/32768 (46.7%)
  Progress: 15400/32768 (47.0%)
  Progress: 15500/32768 (47.3%)
  Progress: 15600/32768 (47.6%)
  Progress: 15700/32768 (47.9%)
  Progress: 15800/32768 (48.2%)
  Progress: 15900/32768 (48.5%)
  Progress: 16000/32768 (48.8%)
  Progress: 16100/32768 (49.1%)
  Progress: 16200/32768 (49.4%)
  Progress: 16300/32768 (49.7%)
  Progress: 16400/32768 (50.0%)
  Progress: 16500/32768 (50.4%)
  Progress: 16600/32768 (50.7%)
  Progress: 16700/32768 (51.0%)
  Progress: 16800/32768 (51.3%)
  Progress: 16900/32768 (51.6%)
  Progress: 17000/32768 (51.9%)
  Progress: 17100/32768 (52.2%)
  Progress: 17200/32768 (52.5%)
  Progress: 17300/32768 (52.8%)
  Progress: 17400/32768 (53.1%)
  Progress: 17500/32768 (53.4%)
  Progress: 17600/32768 (53.7%)
  Progress: 17700/32768 (54.0%)
  Progress: 17800/32768 (54.3%)
  Progress: 17900/32768 (54.6%)
  Progress: 18000/32768 (54.9%)
  Progress: 18100/32768 (55.2%)
  Progress: 18200/32768 (55.5%)
  Progress: 18300/32768 (55.8%)
  Progress: 18400/32768 (56.2%)
  Progress: 18500/32768 (56.5%)
  Progress: 18600/32768 (56.8%)
  Progress: 18700/32768 (57.1%)
  Progress: 18800/32768 (57.4%)
  Progress: 18900/32768 (57.7%)
  Progress: 19000/32768 (58.0%)
  Progress: 19100/32768 (58.3%)
  Progress: 19200/32768 (58.6%)
  Progress: 19300/32768 (58.9%)
  Progress: 19400/32768 (59.2%)
  Progress: 19500/32768 (59.5%)
  Progress: 19600/32768 (59.8%)
  Progress: 19700/32768 (60.1%)
  Progress: 19800/32768 (60.4%)
  Progress: 19900/32768 (60.7%)
  Progress: 20000/32768 (61.0%)
  Progress: 20100/32768 (61.3%)
  Progress: 20200/32768 (61.6%)
  Progress: 20300/32768 (62.0%)
  Progress: 20400/32768 (62.3%)
  Progress: 20500/32768 (62.6%)
  Progress: 20600/32768 (62.9%)
  Progress: 20700/32768 (63.2%)
  Progress: 20800/32768 (63.5%)
  Progress: 20900/32768 (63.8%)
  Progress: 21000/32768 (64.1%)
  Progress: 21100/32768 (64.4%)
  Progress: 21200/32768 (64.7%)
  Progress: 21300/32768 (65.0%)
  Progress: 21400/32768 (65.3%)
  Progress: 21500/32768 (65.6%)
  Progress: 21600/32768 (65.9%)
  Progress: 21700/32768 (66.2%)
  Progress: 21800/32768 (66.5%)
  Progress: 21900/32768 (66.8%)
  Progress: 22000/32768 (67.1%)
  Progress: 22100/32768 (67.4%)
  Progress: 22200/32768 (67.7%)
  Progress: 22300/32768 (68.1%)
  Progress: 22400/32768 (68.4%)
  Progress: 22500/32768 (68.7%)
  Progress: 22600/32768 (69.0%)
  Progress: 22700/32768 (69.3%)
  Progress: 22800/32768 (69.6%)
  Progress: 22900/32768 (69.9%)
  Progress: 23000/32768 (70.2%)
  Progress: 23100/32768 (70.5%)
  Progress: 23200/32768 (70.8%)
  Progress: 23300/32768 (71.1%)
  Progress: 23400/32768 (71.4%)
  Progress: 23500/32768 (71.7%)
  Progress: 23600/32768 (72.0%)
  Progress: 23700/32768 (72.3%)
  Progress: 23800/32768 (72.6%)
  Progress: 23900/32768 (72.9%)
  Progress: 24000/32768 (73.2%)
  Progress: 24100/32768 (73.5%)
  Progress: 24200/32768 (73.9%)
  Progress: 24300/32768 (74.2%)
  Progress: 24400/32768 (74.5%)
  Progress: 24500/32768 (74.8%)
  Progress: 24600/32768 (75.1%)
  Progress: 24700/32768 (75.4%)
  Progress: 24800/32768 (75.7%)
  Progress: 24900/32768 (76.0%)
  Progress: 25000/32768 (76.3%)
  Progress: 25100/32768 (76.6%)
  Progress: 25200/32768 (76.9%)
  Progress: 25300/32768 (77.2%)
  Progress: 25400/32768 (77.5%)
  Progress: 25500/32768 (77.8%)
  Progress: 25600/32768 (78.1%)
  Progress: 25700/32768 (78.4%)
  Progress: 25800/32768 (78.7%)
  Progress: 25900/32768 (79.0%)
  Progress: 26000/32768 (79.3%)
  Progress: 26100/32768 (79.7%)
  Progress: 26200/32768 (80.0%)
  Progress: 26300/32768 (80.3%)
  Progress: 26400/32768 (80.6%)
  Progress: 26500/32768 (80.9%)
  Progress: 26600/32768 (81.2%)
  Progress: 26700/32768 (81.5%)
  Progress: 26800/32768 (81.8%)
  Progress: 26900/32768 (82.1%)
  Progress: 27000/32768 (82.4%)
  Progress: 27100/32768 (82.7%)
  Progress: 27200/32768 (83.0%)
  Progress: 27300/32768 (83.3%)
  Progress: 27400/32768 (83.6%)
  Progress: 27500/32768 (83.9%)
  Progress: 27600/32768 (84.2%)
  Progress: 27700/32768 (84.5%)
  Progress: 27800/32768 (84.8%)
  Progress: 27900/32768 (85.1%)
  Progress: 28000/32768 (85.4%)
  Progress: 28100/32768 (85.8%)
  Progress: 28200/32768 (86.1%)
  Progress: 28300/32768 (86.4%)
  Progress: 28400/32768 (86.7%)
  Progress: 28500/32768 (87.0%)
  Progress: 28600/32768 (87.3%)
  Progress: 28700/32768 (87.6%)
  Progress: 28800/32768 (87.9%)
  Progress: 28900/32768 (88.2%)
  Progress: 29000/32768 (88.5%)
  Progress: 29100/32768 (88.8%)
  Progress: 29200/32768 (89.1%)
  Progress: 29300/32768 (89.4%)
  Progress: 29400/32768 (89.7%)
  Progress: 29500/32768 (90.0%)
  Progress: 29600/32768 (90.3%)
  Progress: 29700/32768 (90.6%)
  Progress: 29800/32768 (90.9%)
  Progress: 29900/32768 (91.2%)
  Progress: 30000/32768 (91.6%)
  Progress: 30100/32768 (91.9%)
  Progress: 30200/32768 (92.2%)
  Progress: 30300/32768 (92.5%)
  Progress: 30400/32768 (92.8%)
  Progress: 30500/32768 (93.1%)
  Progress: 30600/32768 (93.4%)
  Progress: 30700/32768 (93.7%)
  Progress: 30800/32768 (94.0%)
  Progress: 30900/32768 (94.3%)
  Progress: 31000/32768 (94.6%)
  Progress: 31100/32768 (94.9%)
  Progress: 31200/32768 (95.2%)
  Progress: 31300/32768 (95.5%)
  Progress: 31400/32768 (95.8%)
  Progress: 31500/32768 (96.1%)
  Progress: 31600/32768 (96.4%)
  Progress: 31700/32768 (96.7%)
  Progress: 31800/32768 (97.0%)
  Progress: 31900/32768 (97.4%)
  Progress: 32000/32768 (97.7%)
  Progress: 32100/32768 (98.0%)
  Progress: 32200/32768 (98.3%)
  Progress: 32300/32768 (98.6%)
  Progress: 32400/32768 (98.9%)
  Progress: 32500/32768 (99.2%)
  Progress: 32600/32768 (99.5%)
  Progress: 32700/32768 (99.8%)
✅ Saved overall scores to: ../tables/keytriple_engram6_scores.csv
✅ Saved strength scores to: ../tables/keytriple_engram6_strength_scores.csv
✅ Saved position scores to: ../tables/keytriple_engram6_position_scores.csv
✅ Saved stretch scores to: ../tables/keytriple_engram6_stretch_scores.csv
✅ Saved vspan scores to: ../tables/keytriple_engram6_vspan_scores.csv
✅ Saved hspan scores to: ../tables/keytriple_engram6_hspan_scores.csv
✅ Saved sequence scores to: ../tables/keytriple_engram6_sequence_scores.csv

📊 Validation Results:
   Total key-triples: 32768
   Score range: 0.4967 to 6.0000
   Average score: 3.6937
   Valid range (0-6): ✅

🧮 Mathematical Accuracy Check:
   Accuracy check: 20/20 samples correct

📁 Individual Criterion Files:
   ✅ strength: 32768 pairs
   ✅ position: 32768 pairs
   ✅ stretch: 32768 pairs
   ✅ vspan: 32768 pairs
   ✅ hspan: 32768 pairs
   ✅ sequence: 32768 pairs

🔍 Criteria-Specific Validation:
   Same key repetition: ✅ (0/0)
   Worst cases: ✅ (0/0)
   Alternating hands: ✅ (0/0)

📈 Score Distribution:
   Very Poor (0.0-1.4): 183 pairs (0.6%)
   Poor (1.4-2.8): 6312 pairs (19.3%)
   Fair (2.8-4.2): 15350 pairs (46.8%)
   Good (4.2-5.6): 10713 pairs (32.7%)
   Excellent (5.6-7.0): 210 pairs (0.6%)
   Perfect (6.0): 20 pairs (0.1%)

✅ Validation complete!

🏆 Perfect Score Verification (20 pairs):
   DFJ: Total = 6.0? ✅
   DFK: Total = 6.0? ✅
   DJD: Total = 6.0? ✅
   DJF: Total = 6.0? ✅
   DKF: Total = 6.0? ✅
   DKJ: Total = 6.0? ✅
   FJD: Total = 6.0? ✅
   FKD: Total = 6.0? ✅
   FKF: Total = 6.0? ✅
   FKJ: Total = 6.0? ✅
   JDF: Total = 6.0? ✅
   JDJ: Total = 6.0? ✅
   JDK: Total = 6.0? ✅
   JFK: Total = 6.0? ✅
   KDF: Total = 6.0? ✅
   KDJ: Total = 6.0? ✅
   KFJ: Total = 6.0? ✅
   KFK: Total = 6.0? ✅
   KJD: Total = 6.0? ✅
   KJF: Total = 6.0? ✅

✅ Engram-6 key-triple score generation complete!
   Overall scores: ../tables/keytriple_engram6_scores.csv
   Individual criteria: ../tables/keytriple_engram6_*_scores.csv
